// Prisma schema file
// Docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
}

model User {
  id         Int         @id @default(autoincrement())
  email      String      @unique
  password   String
  name       String?
  createdAt  DateTime    @default(now())
  memoBoards MemoBoard[]
}

// prisma/schema.prisma

model MemoBoard {
  id         Int      @id @default(autoincrement())
  title      String
  background String
  index      Int      @default(0) // 순서 관리를 위한 필드
  userId     Int
  user       User     @relation(fields: [userId], references: [id])
  memos      Memo[]
  createdAt  DateTime @default(now())
  updatedAt  DateTime @default(now()) @updatedAt // 기존 데이터 에러 방지용
}

model Memo {
  id              Int       @id @default(autoincrement())
  boardId         Int
  content         String    @db.LongText
  x               Int       @default(0)
  y               Int       @default(0)
  width           Int       @default(200)
  height          Int       @default(100)
  fontSize        Int       @default(14)
  fontColor       String    @default("#000000")
  fontWeight      String    @default("normal")
  fontFamily      String    @default("Arial")
  backgroundColor String    @default("#ffffff")
  borderWidth     Int       @default(1)
  borderColor     String    @default("#000000")
  overflow        String    @default("hidden")
  textAlign       String    @default("left")
  verticalAlign   String    @default("top")
  modifiedAt      DateTime  @updatedAt
  board           MemoBoard @relation(fields: [boardId], references: [id])
}
