// Prisma schema file
// Docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  //provider = "mysql"
  provider = "postgresql"
}

model User {
  id         Int         @id @default(autoincrement())
  email      String      @unique
  password   String
  name       String?
  createdAt  DateTime    @default(now())
  memoBoards MemoBoard[]
}

model MemoBoard {
  id         Int      @id @default(autoincrement())
  title      String
  background String
  order      Int      @default(0) // üîÅ index ‚Üí order (ÏòàÏïΩÏñ¥ ÌöåÌîº)
  userId     Int
  user       User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  memos      Memo[]
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt
}

model Memo {
  id              Int      @id @default(autoincrement())
  boardId         Int
  content         String // üî• @db.LongText Ï†úÍ±∞ (Postgres TEXT)
  x               Int      @default(0)
  y               Int      @default(0)
  width           Int      @default(200)
  height          Int      @default(100)
  fontSize        Int      @default(14)
  fontColor       String   @default("#000000")
  fontWeight      String   @default("normal")
  fontFamily      String   @default("Arial")
  backgroundColor String   @default("#ffffff")
  borderWidth     Int      @default(1)
  borderColor     String   @default("#000000")
  overflow        String   @default("hidden")
  textAlign       String   @default("left")
  verticalAlign   String   @default("top")
  modifiedAt      DateTime @updatedAt

  board MemoBoard @relation(fields: [boardId], references: [id], onDelete: Cascade)
}
